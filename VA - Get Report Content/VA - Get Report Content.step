{"creationTimeStamp":"2025-08-23T14:29:16.658173Z","createdBy":"gerdaw","modifiedTimeStamp":"2025-08-25T08:21:23.234079Z","modifiedBy":"gerdaw","name":"VA - Get Report Content.step","displayName":"VA - Get Report Content.step","localDisplayName":"VA - Get Report Content.step","description":"The \"VA - Get Report Content\" custom steps provides the ability to either retrieve the content of a SAS Visual Analytics report and store it in a JSON file on the SAS Server for Git versioning or it can be used to updated a SAS Visual Analytics report with the contents of a JSON file stored on the SAS Server.","localDescription":"The \"VA - Get Report Content\" custom steps provides the ability to either retrieve the content of a SAS Visual Analytics report and store it in a JSON file on the SAS Server for Git versioning or it can be used to updated a SAS Visual Analytics report with the contents of a JSON file stored on the SAS Server.","links":[{"method":"GET","rel":"self","href":"/dataFlows/steps/e862b4e6-a9be-40af-bc68-225e944511b2","uri":"/dataFlows/steps/e862b4e6-a9be-40af-bc68-225e944511b2","type":"application/vnd.sas.data.flow.step"},{"method":"GET","rel":"alternate","href":"/dataFlows/steps/e862b4e6-a9be-40af-bc68-225e944511b2","uri":"/dataFlows/steps/e862b4e6-a9be-40af-bc68-225e944511b2","type":"application/vnd.sas.data.flow.step.summary"},{"method":"GET","rel":"up","href":"/dataFlows/steps","uri":"/dataFlows/steps","type":"application/vnd.sas.collection","itemType":"application/vnd.sas.data.flow.step.summary"},{"method":"PUT","rel":"update","href":"/dataFlows/steps/e862b4e6-a9be-40af-bc68-225e944511b2","uri":"/dataFlows/steps/e862b4e6-a9be-40af-bc68-225e944511b2","type":"application/vnd.sas.data.flow.step","responseType":"application/vnd.sas.data.flow.step"},{"method":"DELETE","rel":"delete","href":"/dataFlows/steps/e862b4e6-a9be-40af-bc68-225e944511b2","uri":"/dataFlows/steps/e862b4e6-a9be-40af-bc68-225e944511b2"},{"method":"POST","rel":"copy","href":"/dataFlows/steps/e862b4e6-a9be-40af-bc68-225e944511b2/copy","uri":"/dataFlows/steps/e862b4e6-a9be-40af-bc68-225e944511b2/copy","responseType":"application/vnd.sas.data.flow.step"},{"method":"GET","rel":"transferExport","href":"/dataFlows/steps/e862b4e6-a9be-40af-bc68-225e944511b2","uri":"/dataFlows/steps/e862b4e6-a9be-40af-bc68-225e944511b2","responseType":"application/vnd.sas.transfer.object"},{"method":"PUT","rel":"transferImportUpdate","href":"/dataFlows/steps/e862b4e6-a9be-40af-bc68-225e944511b2","uri":"/dataFlows/steps/e862b4e6-a9be-40af-bc68-225e944511b2","type":"application/vnd.sas.transfer.object","responseType":"application/vnd.sas.summary"}],"metadataVersion":1,"version":2,"type":"code","flowMetadata":{},"ui":"{\n\t\"showPageContentOnly\": true,\n\t\"pages\": [\n\t\t{\n\t\t\t\"id\": \"pageOptions\",\n\t\t\t\"type\": \"page\",\n\t\t\t\"label\": \"Options\",\n\t\t\t\"children\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"_grc_info_text\",\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"text\": \"The Get Report Content custom step enables you to either retrieve the JSON content of a SAS Visual Analytics report and save it to the SAS Server or select a JSON content file from SAS Server and update a SAS Visual Analytics report with it.\\n\\nThe step provides to interaction modes:\\n- Get report content, enables you to select a SAS Visual Analytics report from SAS Content and its content will be written to the select JSON file on the SAS Server. Please note that the JSON file will be fully replaced during this process and it will be created for you, if it doesn't exist.\\n- Update report content, enables you to update the contents of a SAS Visual Analytics report with the contents of a JSON file located on the SAS Server. Please note that the content of the report will be fully replaced by the content of the JSON file.\",\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"_grc_mode_selector\",\n\t\t\t\t\t\"type\": \"radiogroup\",\n\t\t\t\t\t\"label\": \"Select interaction mode:\",\n\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"value\": \"getContent\",\n\t\t\t\t\t\t\t\"label\": \"Get report content\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"value\": \"updateContent\",\n\t\t\t\t\t\t\t\"label\": \"Update report content\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"_grc_source_report\",\n\t\t\t\t\t\"type\": \"path\",\n\t\t\t\t\t\"label\": \"Select the source report from SAS Content:\",\n\t\t\t\t\t\"pathtype\": \"file\",\n\t\t\t\t\t\"placeholder\": \"/Public/Reports/My First Report\",\n\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\"$_grc_mode_selector\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"getContent\"\n\t\t\t\t\t],\n\t\t\t\t\t\"enabled\": [\n\t\t\t\t\t\t\"$_grc_mode_selector\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"getContent\"\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"_grc_target_json\",\n\t\t\t\t\t\"type\": \"path\",\n\t\t\t\t\t\"label\": \"Select the target JSON file from SAS Server:\",\n\t\t\t\t\t\"pathtype\": \"file\",\n\t\t\t\t\t\"placeholder\": \"/export/report/My First Report.json\",\n\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\"$_grc_mode_selector\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"getContent\"\n\t\t\t\t\t],\n\t\t\t\t\t\"enabled\": [\n\t\t\t\t\t\t\"$_grc_mode_selector\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"getContent\"\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"_grc_source_json\",\n\t\t\t\t\t\"type\": \"path\",\n\t\t\t\t\t\"label\": \"Select the source JSON file from SAS Server:\",\n\t\t\t\t\t\"pathtype\": \"file\",\n\t\t\t\t\t\"placeholder\": \"/export/report/My First Report.json\",\n\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\"$_grc_mode_selector\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"updateContent\"\n\t\t\t\t\t],\n\t\t\t\t\t\"enabled\": [\n\t\t\t\t\t\t\"$_grc_mode_selector\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"updateContent\"\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"_grc_target_report\",\n\t\t\t\t\t\"type\": \"path\",\n\t\t\t\t\t\"label\": \"Select the target report from SAS Content:\",\n\t\t\t\t\t\"pathtype\": \"file\",\n\t\t\t\t\t\"placeholder\": \"/Public/Reports/My First Report\",\n\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\"$_grc_mode_selector\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"updateContent\"\n\t\t\t\t\t],\n\t\t\t\t\t\"enabled\": [\n\t\t\t\t\t\t\"$_grc_mode_selector\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"updateContent\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": \"pageAbout\",\n\t\t\t\"type\": \"page\",\n\t\t\t\"label\": \"About\",\n\t\t\t\"children\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"textAbout\",\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"text\": \"VA - Get Report Content step\\n==========\\n\\nThe \\\"VA - Get Report Content\\\" custom steps provides the ability to either retrieve the content of a SAS Visual Analytics report and store it in a JSON file on the SAS Server for Git versioning or it can be used to updated a SAS Visual Analytics report with the contents of a JSON file stored on the SAS Server.\",\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"sectionPrereqs\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Pre-requisites\",\n\t\t\t\t\t\"open\": false,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"textPrereqs\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Pre-requisites:  Tested on Viya version Stable 2025.07\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"sectionDocumentation\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Documentation\",\n\t\t\t\t\t\"open\": false,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"textDocumentation\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"* https://developer.sas.com/rest-apis/folders/getFolderItem\\n* https://developer.sas.com/rest-apis/folders/getFolderMembers\\n* https://developer.sas.com/rest-apis/reports/updateContent\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"sectionChangelog\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Changelog\",\n\t\t\t\t\t\"open\": true,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"textChangelog\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"* Version: 1.0 (23AUG2025)\\n      - Initial version\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t\"syntaxversion\": \"1.3.0\",\n\t\"values\": {\n\t\t\"_grc_mode_selector\": {\n\t\t\t\"value\": \"getContent\",\n\t\t\t\"label\": \"Get report content\"\n\t\t},\n\t\t\"_grc_source_report\": \"\",\n\t\t\"_grc_target_json\": \"\",\n\t\t\"_grc_source_json\": \"\",\n\t\t\"_grc_target_report\": \"\"\n\t}\n}","localUi":"{\"pages\":[{\"children\":[{\"id\":\"_grc_info_text\",\"text\":\"The Get Report Content custom step enables you to either retrieve the JSON content of a SAS Visual Analytics report and save it to the SAS Server or select a JSON content file from SAS Server and update a SAS Visual Analytics report with it.\\n\\nThe step provides to interaction modes:\\n- Get report content, enables you to select a SAS Visual Analytics report from SAS Content and its content will be written to the select JSON file on the SAS Server. Please note that the JSON file will be fully replaced during this process and it will be created for you, if it doesn't exist.\\n- Update report content, enables you to update the contents of a SAS Visual Analytics report with the contents of a JSON file located on the SAS Server. Please note that the content of the report will be fully replaced by the content of the JSON file.\",\"type\":\"text\",\"visible\":\"\"},{\"id\":\"_grc_mode_selector\",\"items\":[{\"label\":\"Get report content\",\"value\":\"getContent\"},{\"label\":\"Update report content\",\"value\":\"updateContent\"}],\"label\":\"Select interaction mode:\",\"type\":\"radiogroup\",\"visible\":\"\"},{\"enabled\":[\"$_grc_mode_selector\",\"=\",\"getContent\"],\"id\":\"_grc_source_report\",\"label\":\"Select the source report from SAS Content:\",\"pathtype\":\"file\",\"placeholder\":\"/Public/Reports/My First Report\",\"required\":false,\"type\":\"path\",\"visible\":[\"$_grc_mode_selector\",\"=\",\"getContent\"]},{\"enabled\":[\"$_grc_mode_selector\",\"=\",\"getContent\"],\"id\":\"_grc_target_json\",\"label\":\"Select the target JSON file from SAS Server:\",\"pathtype\":\"file\",\"placeholder\":\"/export/report/My First Report.json\",\"required\":false,\"type\":\"path\",\"visible\":[\"$_grc_mode_selector\",\"=\",\"getContent\"]},{\"enabled\":[\"$_grc_mode_selector\",\"=\",\"updateContent\"],\"id\":\"_grc_source_json\",\"label\":\"Select the source JSON file from SAS Server:\",\"pathtype\":\"file\",\"placeholder\":\"/export/report/My First Report.json\",\"required\":false,\"type\":\"path\",\"visible\":[\"$_grc_mode_selector\",\"=\",\"updateContent\"]},{\"enabled\":[\"$_grc_mode_selector\",\"=\",\"updateContent\"],\"id\":\"_grc_target_report\",\"label\":\"Select the target report from SAS Content:\",\"pathtype\":\"file\",\"placeholder\":\"/Public/Reports/My First Report\",\"required\":false,\"type\":\"path\",\"visible\":[\"$_grc_mode_selector\",\"=\",\"updateContent\"]}],\"id\":\"pageOptions\",\"label\":\"Options\",\"type\":\"page\"},{\"children\":[{\"id\":\"textAbout\",\"text\":\"VA - Get Report Content step\\n==========\\n\\nThe \\\"VA - Get Report Content\\\" custom steps provides the ability to either retrieve the content of a SAS Visual Analytics report and store it in a JSON file on the SAS Server for Git versioning or it can be used to updated a SAS Visual Analytics report with the contents of a JSON file stored on the SAS Server.\",\"type\":\"text\",\"visible\":\"\"},{\"children\":[{\"id\":\"textPrereqs\",\"text\":\"Pre-requisites:  Tested on Viya version Stable 2025.07\",\"type\":\"text\",\"visible\":\"\"}],\"id\":\"sectionPrereqs\",\"label\":\"Pre-requisites\",\"open\":false,\"type\":\"section\",\"visible\":\"\"},{\"children\":[{\"id\":\"textDocumentation\",\"text\":\"* https://developer.sas.com/rest-apis/folders/getFolderItem\\n* https://developer.sas.com/rest-apis/folders/getFolderMembers\\n* https://developer.sas.com/rest-apis/reports/updateContent\",\"type\":\"text\",\"visible\":\"\"}],\"id\":\"sectionDocumentation\",\"label\":\"Documentation\",\"open\":false,\"type\":\"section\",\"visible\":\"\"},{\"children\":[{\"id\":\"textChangelog\",\"text\":\"* Version: 1.0 (23AUG2025)\\n      - Initial version\",\"type\":\"text\",\"visible\":\"\"}],\"id\":\"sectionChangelog\",\"label\":\"Changelog\",\"open\":true,\"type\":\"section\",\"visible\":\"\"}],\"id\":\"pageAbout\",\"label\":\"About\",\"type\":\"page\"}],\"showPageContentOnly\":true,\"syntaxversion\":\"1.3.0\",\"values\":{\"_grc_mode_selector\":{\"label\":\"Get report content\",\"value\":\"getContent\"},\"_grc_source_json\":\"\",\"_grc_source_report\":\"\",\"_grc_target_json\":\"\",\"_grc_target_report\":\"\"}}","templates":{"SAS":"/*\n    Explanation of abreviations in the code:\n    - _grc_ is short for Get Report Content\n    - RFP is short for Report Folder Path\n    - FM is short for Folder Members\n    - RCT is short for Report Content Temporary\n    - RCP is short for Report Content Permanent\n    - HO is short for Header Out\n    - IJC is short for In Json Content\n*/\n\n* Utility macro to check the correct server type was selected + return the file path and file name as macro variables;\n%macro _grc_util_check_selected_item(_grc_input_variable, _grc_target_server_type, _grc_path_variable, _grc_file_name_variable);\n    %global &_grc_path_variable\n        &_grc_file_name_variable;\n\n    data _null_;\n        justFileName = scan(\"&_grc_input_variable.\", -1, '/', 'MO');\n        folderPath1 = scan(\"&_grc_input_variable.\", 2, ':', 'MO');\n        folderPath2 = substr(folderPath1, 1, length(folderPath1) - length(justFileName) - 1);\n        server_type = scan(\"&_grc_input_variable.\", 1, ':', 'MO');\n\n        * Handle the different required filename for SAS Content and SAS Server;\n        if server_type = \"&_grc_target_server_type.\" then do;\n            call symput(\"&_grc_path_variable.\", strip(folderPath2));\n            call symput(\"&_grc_file_name_variable.\", strip(justFileName));\n        end;\n        else do;\n            errorMessage = 'ERROR: The file ' || strip(justFileName) || \" is not located in &_grc_target_server_type.\";\n            putLog errorMessage;\n            abort 42;\n        end;\n    run;\n%mend _grc_util_check_selected_item;\n\n* Utility macro to retrieve the URI of a SAS Visual Analytics report by providing its path in SAS Content and name;\n%macro _grc_util_get_report_uri(_grc_folder_path, _grc_file_name_path);\n    %global _grc_reportURI;\n\n    * Find the source folder in SAS Content and retrieve its ID;\n    filename _grc_RFP temp;\n\n    * Documentation for the endpoint: https://developer.sas.com/rest-apis/folders/getFolderItem;\n    proc http url = \"&_grc_viyaHost./folders/folders/@item?path=&_grc_folder_path\"\n        method = 'Get'\n        out = _grc_RFP\n        oauth_bearer = sas_services;\n        headers 'Accept' = 'application/json';\n    run;\n\n    libname _grc_RFP json;\n\n    proc sql noPrint;\n        select id into :_grc_reportParentFolderID\n            from _grc_RFP.root;\n    run; quit;\n\n    * Filter the folder members to only the source report and retrieve its URI;\n    filename _grc_FM temp;\n\n    * Documentation for the endpoint https://developer.sas.com/rest-apis/folders/getFolderMembers;\n    proc http url = \"&_grc_viyaHost./folders/folders/&_grc_reportParentFolderID./members?filter=and(eq(name,'&_grc_file_name_path.'),eq(contentType,'report'))\"\n        method = 'Get'\n        out = _grc_FM\n        oauth_bearer = sas_services;\n        headers 'Accept' = 'application/json';\n    run;\n\n    libname _grc_FM json;\n\n    proc sql noPrint;\n        select uri into :_grc_reportURI\n            from _grc_FM.items;\n    run; quit;\n\n    * Clean up;\n    libname _grc_RFP clear;\n    filename _grc_RFP clear;\n    libname _grc_FM clear;\n    filename _grc_FM clear;\n%mend _grc_util_get_report_uri;\n\n* Utility macro to retrieve the ETag of a report;\n%macro _grc_util_retrieve_etag();\n    %global _grc_resource_etag;\n\n    filename _grc_HO temp;\n\n    proc http\n        method = 'Get'\n        url = \"&_grc_viyaHost.&_grc_reportURI.\"\n        oauth_bearer = sas_services\n        headerOut = _grc_HO;\n        headers 'Accept' = 'application/json';\n    run; quit;\n\n    * Check that the report was found and only then extract the ETag;\n    %if &SYS_PROCHTTP_STATUS_CODE. EQ 200 %then %do;\n        * Extract the ETag, this is needed to update the report;\n        data _null_;\n            length headerLine $256.;\n            inFile _grc_HO delimiter='|' missover;\n            input headerLine $;\n\n            if substr(headerLine, 1, 4) EQ 'ETag' then do;\n                headerLine = translate(substr(headerLine, 7), '', '\"');\n                eTag1 = '\"' || headerLine || '\"';\n                eTag2 = \"'\" || eTag1 || \"'\";\n                call symputx('_grc_resource_etag', compress(eTag2));\n            end;\n        run;\n    %end;\n    %else %do;\n        %put ERROR: The report could not be found. The API responded with &SYS_PROCHTTP_STATUS_CODE.: SYS_PROCHTTP_STATUS_PHRASE.;\n    %end;\n\n    filename _grc_HO clear;\n%mend _grc_util_retrieve_etag;\n\n%macro _grc_main_macro();\n    %local _grc_viyaHost;\n\n    * Get the Viya Host URL;\n    %let _grc_viyaHost=%sysfunc(getoption(SERVICESBASEURL));\n\n    %if &_grc_mode_selector. eq getContent %then %do;\n        %_grc_util_check_selected_item(&_grc_source_report, sascontent, _grc_source_path, _grc_source_file_name);\n        %_grc_util_check_selected_item(&_grc_target_json, sasserver, _grc_target_path, _grc_target_file_name);\n        %_grc_util_get_report_uri(&_grc_source_path, &_grc_source_file_name);\n        \n        * Copy the content of the report to the target json file;\n        filename _grc_RCT temp;\n        filename _grc_RCP \"&_grc_target_path./&_grc_target_file_name.\";\n\n        * Docuemntation for the endpoint https://developer.sas.com/rest-apis/reports/updateContent;\n        proc http url = \"&_grc_viyaHost.&_grc_reportURI./content\"\n            method = 'Get'\n            out = _grc_RCT\n            oauth_bearer = sas_services;\n            headers 'Accept' = 'application/vnd.sas.report.content+json';\n        run;\n\n        * Check response;\n        data _null_;\n            if &SYS_PROCHTTP_STATUS_CODE. ne 200 then do;\n                str = 'ERROR: Request was not successfull, please make sure you have selected a SAS Visual Analytics report';\n                put str;\n                abort abend;\n            end;\n            else put 'NOTE: Request was successfull.';\n        run;\n\n        data _null_; \n            rc = jsonpp('_grc_RCT', '_grc_RCP'); \n        run;\n\n        data work._grc_user_message;\n            created_file = \"&_grc_target_path./&_grc_target_file_name.\";\n            source_report = \"&_grc_source_path./&_grc_source_file_name.\";\n        run;\n\n        title 'The content of the selected report is available in your target location';\n        proc print data=work._grc_user_message noObs;\n        run; quit;\n        title;\n\n        * Clean up;\n        proc datasets lib=work noList;\n            delete _grc_user_message;\n        run; quit;\n        filename _grc_RCT clear;\n        filename _grc_RCP clear;\n        %symdel _grc_source_path _grc_source_file_name _grc_target_path _grc_target_file_name _grc_reportURI;\n    %end;\n\n    %if &_grc_mode_selector. eq updateContent %then %do;\n        %_grc_util_check_selected_item(&_grc_source_json, sasserver, _grc_source_path, _grc_source_file_name);\n        %_grc_util_check_selected_item(&_grc_target_report, sascontent, _grc_target_path, _grc_target_file_name);\n        %_grc_util_get_report_uri(&_grc_target_path, &_grc_target_file_name);\n        %_grc_util_retrieve_etag();\n\n        filename _grc_IJC \"&_grc_source_path./&_grc_source_file_name.\";\n\n        * Docuemntation for the endpoint https://developer.sas.com/rest-apis/reports/updateContent;\n        proc http\n            method = 'Put'\n            url = \"&_grc_viyaHost.&_grc_reportURI./content\" \n            in = _grc_IJC\n            oauth_bearer = sas_services;\n            headers 'Accept' = 'application/json'\n                'Content-Type' = 'application/vnd.sas.report.content+json'\n                'If-Match' = &_grc_resource_etag.;\n        run; quit;\n\n        * Check response;\n        data _null_;\n            if &SYS_PROCHTTP_STATUS_CODE. ne 204 then do;\n                str = 'ERROR: Request was not successfull, please make sure you have selected a SAS Visual Analytics report';\n                put str;\n                abort abend;\n            end;\n            else put 'NOTE: Request was successfull.';\n        run;\n\n        data work._grc_user_message;\n            source_file = \"&_grc_source_path./&_grc_source_file_name.\";\n            target_report = \"&_grc_target_path./&_grc_target_file_name.\";\n        run;\n\n        title 'The selected report has been updated with the content of the selected JSON';\n        proc print data=work._grc_user_message noObs;\n        run; quit;\n        title;\n\n        * Clean up;\n        proc datasets lib=work noList;\n            delete _grc_user_message;\n        run; quit;\n        filename _grc_IJC clear;\n        %symdel _grc_source_path _grc_source_file_name _grc_target_path _grc_target_file_name _grc_reportURI _grc_resource_etag;\n    %end;\n%mend _grc_main_macro;\n\n%_grc_main_macro()\n\n* Clean up;\n%sysmacdelete _grc_util_check_selected_item;\n%sysmacdelete _grc_util_get_report_uri;\n%sysmacdelete _grc_util_retrieve_etag;\n%sysmacdelete _grc_main_macro;"},"eTag":"W/\"1756110083234079000\""}